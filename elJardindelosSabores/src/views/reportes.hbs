<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Análisis de Reportes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/css/reportes.css">
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
        <div class="container-fluid">
            <a class="navbar-brand" href="/admin">
                <i class="fas fa-chart-line"></i> El Jardín - Análisis de Reportes
            </a>
        </div>
    </nav>

    <!-- Contenedor Principal -->
    <div class="container mt-5">
        <h1 class="text-center mb-4">Análisis de Reportes</h1>

        <!-- Filtros -->
        <div class="row mb-4">
            <div class="col-md-3">
                <label for="fechaInicio" class="form-label">Fecha Inicio</label>
                <input type="date" id="fechaInicio" class="form-control">
            </div>
            <div class="col-md-3">
                <label for="fechaFin" class="form-label">Fecha Fin</label>
                <input type="date" id="fechaFin" class="form-control">
            </div>
            <div class="col-md-3">
                <label for="estadoFiltro" class="form-label">Estado de Pedido</label>
                <select id="estadoFiltro" class="form-select">
                    <option value="">Todos</option>
                    <option value="completado">Completado</option>
                    <option value="pendiente">Pendiente</option>
                    <option value="cancelado">Cancelado</option>
                </select>
            </div>
            <div class="col-md-3">
                <label for="metodoPagoFiltro" class="form-label">Método de Pago</label>
                <select id="metodoPagoFiltro" class="form-select">
                    <option value="">Todos</option>
                    <option value="efectivo">Efectivo</option>
                    <option value="tarjeta">Tarjeta</option>
                    <option value="transferencia">Transferencia</option>
                </select>
            </div>
        </div>

        <div class="row mb-4">
    <div class="col text-center">
        <button id="filtrarReportes" class="btn btn-primary">
            <i class="fas fa-search"></i> Generar Reporte
        </button>
    </div>
</div>


        <!-- KPIs -->
        <div class="row text-center mb-4">
            <div class="col-md-3">
                <div class="card shadow">
                    <div class="card-body">
                        <h5 class="card-title">Ventas Totales</h5>
                        <p id="ventasTotales" class="card-text fw-bold fs-4">$0.00</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card shadow">
                    <div class="card-body">
                        <h5 class="card-title">Pedidos Completados</h5>
                        <p id="pedidosCompletados" class="card-text fw-bold fs-4">0</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card shadow">
                    <div class="card-body">
                        <h5 class="card-title">Promedio por Pedido</h5>
                        <p id="promedioPorPedido" class="card-text fw-bold fs-4">$0.00</p>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card shadow">
                    <div class="card-body">
                        <h5 class="card-title">Pedidos Pendientes</h5>
                        <p id="pedidosPendientes" class="card-text fw-bold fs-4">0</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Gráficos -->
<div class="row">
    <div class="col-md-6 mb-4">
        <h4 class="text-center">Tendencia de Ventas</h4>
        <canvas id="tendenciaVentas"></canvas>
    </div>
    <div class="col-md-6 mb-4">
        <h4 class="text-center">Productos Más Vendidos</h4>
        <canvas id="productosMasVendidos"></canvas>
    </div>
</div>
<div class="row">
    <div class="col-md-6 mb-4">
        <h4 class="text-center">Ventas por Mesa</h4>
        <canvas id="ventasPorMesa"></canvas>
    </div>
    <div class="col-md-6 mb-4">
        <h4 class="text-center">Estados de Pedidos</h4>
        <canvas id="estadoPedidos"></canvas>
    </div>
</div>
<div class="row">
    <div class="col-md-6 mb-4">
        <h4 class="text-center">Métodos de Pago</h4>
        <canvas id="metodosDePago"></canvas>
    </div>
</div>


    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/reportes/reportes.js"></script>
</body>
</html>
